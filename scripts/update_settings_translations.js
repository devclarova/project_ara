const fs = require('fs');
const path = require('path');

const localesDir = path.join(__dirname, 'src', 'locales');
const targets = ['ar', 'bn', 'de', 'es', 'fi', 'fr', 'hi', 'pt', 'pt-br', 'ru', 'th', 'vi', 'zh'];

// Translations dictionary
const translations = {
  ar: {
    themeSelect: "اختر نسقاً",
    title_language: "تغيير اللغة",
    title_theme: "تغيير النسق",
    title_password_change: "تغيير كلمة المرور",
    title_sns_connect: "ربط حساب SNS",
    title_withdraw: "حذف الحساب",
    title_terms: "شروط الخدمة",
    title_privacy: "سياسة الخصوصية",
    title_marketing: "موافقة التسويق",
    title_support: "مركز المساعدة",
    security_title: "إعدادات الأمان",
    session_management: "إدارة الجلسات",
    theme_light: "فاتح",
    theme_dark: "داكن",
    theme_system: "النظام",
    pw_change_guide: "نوصي باستخدام 8 أحرف على الأقل مع مزيج من الحروف والأرقام والرموز.",
    current_pw: "كلمة المرور الحالية",
    current_pw_placeholder: "أدخل كلمة المرور الحالية",
    new_pw: "كلمة مرور جديدة",
    new_pw_placeholder: "أدخل كلمة مرور جديدة",
    confirm_new_pw: "تأكيد كلمة المرور الجديدة",
    confirm_new_pw_placeholder: "أدخل كلمة المرور الجديدة مرة أخرى",
    pw_mismatch: "كلمات المرور الجديدة غير متطابقة.",
    pw_check_req: "يرجى التحقق من كلمة المرور (8 أحرف على الأقل ومطابقة).",
    hide: "إخفاء",
    show: "عرض",
    sns_connect_desc: "قم بربط حسابك مع تسجيل الدخول الاجتماعي ليسهل الوصول والاسترداد.",
    connect_google: "ربط حساب Google",
    connect_kakao: "ربط حساب Kakao",
    sns_connect_note: "يمكنك إلغاء ربط الحسابات في الإعدادات > الخصوصية في أي وقت. (قريباً)"
  },
  bn: {
    themeSelect: "একটি থিম নির্বাচন করুন",
    title_language: "ভাষা পরিবর্তন",
    title_theme: "থিম পরিবর্তন",
    title_password_change: "পাসওয়ার্ড পরিবর্তন",
    title_sns_connect: "SNS অ্যাকাউন্ট সংযুক্ত করুন",
    title_withdraw: "অ্যাকাউন্ট মুছুন",
    title_terms: "পরিষেবার শর্তাবলী",
    title_privacy: "গোপনীয়তা নীতি",
    title_marketing: "বিপণন সম্মতি",
    title_support: "সহায়তা কেন্দ্র",
    security_title: "নিরাপত্তা সেটিংস",
    session_management: "সেশন ব্যবস্থাপনা",
    theme_light: "হালকা",
    theme_dark: "গাঢ়",
    theme_system: "সিস্টেম",
    pw_change_guide: "আমরা অক্ষর, সংখ্যা এবং চিহ্নের মিশ্রণ সহ কমপক্ষে ৮টি অক্ষর ব্যবহার করার পরামর্শ দিই।",
    current_pw: "বর্তমান পাসওয়ার্ড",
    current_pw_placeholder: "বর্তমান পাসওয়ার্ড লিখুন",
    new_pw: "নতুন পাসওয়ার্ড",
    new_pw_placeholder: "নতুন পাসওয়ার্ড লিখুন",
    confirm_new_pw: "নতুন পাসওয়ার্ড নিশ্চিত করুন",
    confirm_new_pw_placeholder: "নতুন পাসওয়ার্ড আবার লিখুন",
    pw_mismatch: "নতুন পাসওয়ার্ড মিলছে না।",
    pw_check_req: "অনুগ্রহ করে আপনার পাসওয়ার্ড পরীক্ষা করুন (কমপক্ষে ৮ অক্ষর এবং মিলতে হবে)।",
    hide: "লুকান",
    show: "দেখান",
    sns_connect_desc: "সহজ অ্যাক্সেস এবং পুনরুদ্ধারের জন্য আপনার অ্যাকাউন্টকে সোশ্যাল লগইনের সাথে সংযুক্ত করুন।",
    connect_google: "Google অ্যাকাউন্ট সংযুক্ত করুন",
    connect_kakao: "Kakao অ্যাকাউন্ট সংযুক্ত করুন",
    sns_connect_note: "আপনি যে কোনো সময় সেটিংস > গোপনীয়তা থেকে লিংক করা অ্যাকাউন্ট সংযোগ বিচ্ছিন্ন করতে পারেন। (শীঘ্রই আসছে)"
  },
  de: {
    themeSelect: "Thema wählen",
    title_language: "Sprache ändern",
    title_theme: "Thema ändern",
    title_password_change: "Passwort ändern",
    title_sns_connect: "SNS-Konto verbinden",
    title_withdraw: "Konto löschen",
    title_terms: "Nutzungsbedingungen",
    title_privacy: "Datenschutzerklärung",
    title_marketing: "Marketing-Zustimmung",
    title_support: "Hilfezentrum",
    security_title: "Sicherheitseinstellungen",
    session_management: "Sitzungsverwaltung",
    theme_light: "Hell",
    theme_dark: "Dunkel",
    theme_system: "System",
    pw_change_guide: "Wir empfehlen mindestens 8 Zeichen mit einer Mischung aus Buchstaben, Zahlen und Symbolen.",
    current_pw: "Aktuelles Passwort",
    current_pw_placeholder: "Aktuelles Passwort eingeben",
    new_pw: "Neues Passwort",
    new_pw_placeholder: "Neues Passwort eingeben",
    confirm_new_pw: "Neues Passwort bestätigen",
    confirm_new_pw_placeholder: "Neues Passwort erneut eingeben",
    pw_mismatch: "Die neuen Passwörter stimmen nicht überein.",
    pw_check_req: "Bitte überprüfen Sie Ihr Passwort (min. 8 Zeichen & Übereinstimmung).",
    hide: "Verbergen",
    show: "Anzeigen",
    sns_connect_desc: "Verbinden Sie Ihr Konto mit Social Login für einfacheren Zugriff und Wiederherstellung.",
    connect_google: "Google-Konto verbinden",
    connect_kakao: "Kakao-Konto verbinden",
    sns_connect_note: "Sie können verknüpfte Konten jederzeit unter Einstellungen > Datenschutz trennen. (Demnächst)"
  },
  es: {
    themeSelect: "Seleccionar un tema",
    title_language: "Cambiar idioma",
    title_theme: "Cambiar tema",
    title_password_change: "Cambiar contraseña",
    title_sns_connect: "Conectar cuenta SNS",
    title_withdraw: "Eliminar cuenta",
    title_terms: "Términos de servicio",
    title_privacy: "Política de privacidad",
    title_marketing: "Consentimiento de marketing",
    title_support: "Centro de ayuda",
    security_title: "Configuración de seguridad",
    session_management: "Gestión de sesiones",
    theme_light: "Claro",
    theme_dark: "Oscuro",
    theme_system: "Sistema",
    pw_change_guide: "Recomendamos usar al menos 8 caracteres con una mezcla de letras, números y símbolos.",
    current_pw: "Contraseña actual",
    current_pw_placeholder: "Ingresa contraseña actual",
    new_pw: "Nueva contraseña",
    new_pw_placeholder: "Ingresa nueva contraseña",
    confirm_new_pw: "Confirmar nueva contraseña",
    confirm_new_pw_placeholder: "Ingresa nueva contraseña otra vez",
    pw_mismatch: "Las nuevas contraseñas no coinciden.",
    pw_check_req: "Por favor verifica tu contraseña (mín. 8 caracteres y coincidencia).",
    hide: "Ocultar",
    show: "Mostrar",
    sns_connect_desc: "Conecta tu cuenta con inicio de sesión social para un acceso y recuperación más fáciles.",
    connect_google: "Conectar cuenta de Google",
    connect_kakao: "Conectar cuenta de Kakao",
    sns_connect_note: "Puedes desconectar cuentas vinculadas en Configuración > Privacidad en cualquier momento. (Próximamente)"
  },
  fi: {
    themeSelect: "Valitse teema",
    title_language: "Vaihda kieltä",
    title_theme: "Vaihda teemaa",
    title_password_change: "Vaihda salasana",
    title_sns_connect: "Yhdistä SNS-tili",
    title_withdraw: "Poista tili",
    title_terms: "Käyttöehdot",
    title_privacy: "Tietosuojakäytäntö",
    title_marketing: "Markkinointisuostumus",
    title_support: "Ohjekeskus",
    security_title: "Turvallisuusasetukset",
    session_management: "Istunnon hallinta",
    theme_light: "Vaalea",
    theme_dark: "Tumma",
    theme_system: "Järjestelmä",
    pw_change_guide: "Suosittelemme vähintään 8 merkkiä, joissa on kirjaimia, numeroita ja symboleja.",
    current_pw: "Nykyinen salasana",
    current_pw_placeholder: "Syötä nykyinen salasana",
    new_pw: "Uusi salasana",
    new_pw_placeholder: "Syötä uusi salasana",
    confirm_new_pw: "Vahvista uusi salasana",
    confirm_new_pw_placeholder: "Syötä uusi salasana uudelleen",
    pw_mismatch: "Uudet salasanat eivät täsmää.",
    pw_check_req: "Tarkista salasanasi (väh. 8 merkkiä ja täsmää).",
    hide: "Piilota",
    show: "Näytä",
    sns_connect_desc: "Yhdistä tilisi sosiaaliseen kirjautumiseen helpompaa pääsyä ja palautusta varten.",
    connect_google: "Yhdistä Google-tili",
    connect_kakao: "Yhdistä Kakao-tili",
    sns_connect_note: "Voit katkaista linkitetyt tilit asetuksista > Yksityisyys milloin tahansa. (Tulossa pian)"
  },
  fr: {
    themeSelect: "Choisir un thème",
    title_language: "Changer de langue",
    title_theme: "Changer de thème",
    title_password_change: "Changer le mot de passe",
    title_sns_connect: "Connecter un compte SNS",
    title_withdraw: "Supprimer le compte",
    title_terms: "Conditions d'utilisation",
    title_privacy: "Politique de confidentialité",
    title_marketing: "Consentement marketing",
    title_support: "Centre d'aide",
    security_title: "Paramètres de sécurité",
    session_management: "Gestion des sessions",
    theme_light: "Clair",
    theme_dark: "Sombre",
    theme_system: "Système",
    pw_change_guide: "Nous recommandons d'utiliser au moins 8 caractères avec un mélange de lettres, de chiffres et de symboles.",
    current_pw: "Mot de passe actuel",
    current_pw_placeholder: "Entrez le mot de passe actuel",
    new_pw: "Nouveau mot de passe",
    new_pw_placeholder: "Entrez le nouveau mot de passe",
    confirm_new_pw: "Confirmer le nouveau mot de passe",
    confirm_new_pw_placeholder: "Entrez à nouveau le nouveau mot de passe",
    pw_mismatch: "Les nouveaux mots de passe ne correspondent pas.",
    pw_check_req: "Veuillez vérifier votre mot de passe (min 8 car. et correspondance).",
    hide: "Masquer",
    show: "Afficher",
    sns_connect_desc: "Connectez votre compte avec un réseau social pour un accès et une récupération plus faciles.",
    connect_google: "Connecter le compte Google",
    connect_kakao: "Connecter le compte Kakao",
    sns_connect_note: "Vous pouvez dissocier les comptes liés dans Paramètres > Confidentialité à tout moment. (Bientôt disponible)"
  },
  hi: {
    themeSelect: "एक थीम चुनें",
    title_language: "भाषा बदलें",
    title_theme: "थीम बदलें",
    title_password_change: "पासवर्ड बदलें",
    title_sns_connect: "SNS खाता जोड़ें",
    title_withdraw: "खाता हटाएं",
    title_terms: "सेवा की शर्तें",
    title_privacy: "गोपनीयता नीति",
    title_marketing: "विपणन सहमति",
    title_support: "सहायता केंद्र",
    security_title: "सुरक्षा सेटिंग्स",
    session_management: "सत्र प्रबंधन",
    theme_light: "लाइट",
    theme_dark: "डार्क",
    theme_system: "सिस्टम",
    pw_change_guide: "हम अक्षरों, संख्याओं और प्रतीकों के मिश्रण के साथ कम से कम 8 वर्णों का उपयोग करने की सलाह देते हैं।",
    current_pw: "वर्तमान पासवर्ड",
    current_pw_placeholder: "वर्तमान पासवर्ड दर्ज करें",
    new_pw: "नया पासवर्ड",
    new_pw_placeholder: "नया पासवर्ड दर्ज करें",
    confirm_new_pw: "नया पासवर्ड पुष्टि करें",
    confirm_new_pw_placeholder: "नया पासवर्ड फिर से दर्ज करें",
    pw_mismatch: "नए पासवर्ड मेल नहीं खाते।",
    pw_check_req: "कृपया अपना पासवर्ड जांचें (न्यूनतम 8 वर्ण और मिलान)।",
    hide: "छिपाएं",
    show: "दिखाएं",
    sns_connect_desc: "आसान पहुंच और पुनर्प्राप्ति के लिए अपने खाते को सोशल लॉगिन से कनेक्ट करें।",
    connect_google: "Google खाता कनेक्ट करें",
    connect_kakao: "Kakao खाता कनेक्ट करें",
    sns_connect_note: "आप सेटिंग > गोपनीयता में किसी भी समय लिंक किए गए खातों को डिस्कनेक्ट कर सकते हैं। (जल्द आ रहा है)"
  },
  pt: {
    themeSelect: "Selecione um tema",
    title_language: "Alterar idioma",
    title_theme: "Alterar tema",
    title_password_change: "Alterar senha",
    title_sns_connect: "Conectar conta SNS",
    title_withdraw: "Excluir conta",
    title_terms: "Termos de serviço",
    title_privacy: "Política de privacidade",
    title_marketing: "Consentimento de marketing",
    title_support: "Central de ajuda",
    security_title: "Configurações de segurança",
    session_management: "Gerenciamento de sessão",
    theme_light: "Claro",
    theme_dark: "Escuro",
    theme_system: "Sistema",
    pw_change_guide: "Recomendamos usar pelo menos 8 caracteres com uma mistura de letras, números e símbolos.",
    current_pw: "Senha atual",
    current_pw_placeholder: "Digite a senha atual",
    new_pw: "Nova senha",
    new_pw_placeholder: "Digite a nova senha",
    confirm_new_pw: "Confirmar nova senha",
    confirm_new_pw_placeholder: "Digite a nova senha novamente",
    pw_mismatch: "As novas senhas não coincidem.",
    pw_check_req: "Verifique sua senha (mínimo de 8 caracteres e correspondência).",
    hide: "Ocultar",
    show: "Mostrar",
    sns_connect_desc: "Conecte sua conta com login social para facilitar o acesso e a recuperação.",
    connect_google: "Conectar conta Google",
    connect_kakao: "Conectar conta Kakao",
    sns_connect_note: "Você pode desconectar contas vinculadas em Configurações > Privacidade a qualquer momento. (Em breve)"
  },
  "pt-br": {
    themeSelect: "Selecione um tema",
    title_language: "Alterar idioma",
    title_theme: "Alterar tema",
    title_password_change: "Alterar senha",
    title_sns_connect: "Conectar conta SNS",
    title_withdraw: "Excluir conta",
    title_terms: "Termos de serviço",
    title_privacy: "Política de privacidade",
    title_marketing: "Consentimento de marketing",
    title_support: "Central de ajuda",
    security_title: "Configurações de segurança",
    session_management: "Gerenciamento de sessão",
    theme_light: "Claro",
    theme_dark: "Escuro",
    theme_system: "Sistema",
    pw_change_guide: "Recomendamos usar pelo menos 8 caracteres com uma mistura de letras, números e símbolos.",
    current_pw: "Senha atual",
    current_pw_placeholder: "Digite a senha atual",
    new_pw: "Nova senha",
    new_pw_placeholder: "Digite a nova senha",
    confirm_new_pw: "Confirmar nova senha",
    confirm_new_pw_placeholder: "Digite a nova senha novamente",
    pw_mismatch: "As novas senhas não coincidem.",
    pw_check_req: "Verifique sua senha (mínimo de 8 caracteres e correspondência).",
    hide: "Ocultar",
    show: "Mostrar",
    sns_connect_desc: "Conecte sua conta com login social para facilitar o acesso e a recuperação.",
    connect_google: "Conectar conta Google",
    connect_kakao: "Conectar conta Kakao",
    sns_connect_note: "Você pode desconectar contas vinculadas em Configurações > Privacidade a qualquer momento. (Em breve)"
  },
  ru: {
    themeSelect: "Выберите тему",
    title_language: "Изменить язык",
    title_theme: "Изменить тему",
    title_password_change: "Изменить пароль",
    title_sns_connect: "Подключить аккаунт SNS",
    title_withdraw: "Удалить аккаунт",
    title_terms: "Условия использования",
    title_privacy: "Политика конфиденциальности",
    title_marketing: "Маркетинговое согласие",
    title_support: "Справочный центр",
    security_title: "Настройки безопасности",
    session_management: "Управление сессиями",
    theme_light: "Светлая",
    theme_dark: "Темная",
    theme_system: "Системная",
    pw_change_guide: "Мы рекомендуем использовать не менее 8 символов с сочетанием букв, цифр и символов.",
    current_pw: "Текущий пароль",
    current_pw_placeholder: "Введите текущий пароль",
    new_pw: "Новый пароль",
    new_pw_placeholder: "Введите новый пароль",
    confirm_new_pw: "Подтвердите новый пароль",
    confirm_new_pw_placeholder: "Введите новый пароль еще раз",
    pw_mismatch: "Новые пароли не совпадают.",
    pw_check_req: "Пожалуйста, проверьте пароль (мин. 8 символов и совпадение).",
    hide: "Скрыть",
    show: "Показать",
    sns_connect_desc: "Подключите свой аккаунт к социальной сети для более легкого доступа и восстановления.",
    connect_google: "Подключить аккаунт Google",
    connect_kakao: "Подключить аккаунт Kakao",
    sns_connect_note: "Вы можете отключить связанные аккаунты в Настройки > Конфиденциальность в любое время. (Скоро)"
  },
  th: {
    themeSelect: "เลือกธีม",
    title_language: "เปลี่ยนภาษา",
    title_theme: "เปลี่ยนธีม",
    title_password_change: "เปลี่ยนรหัสผ่าน",
    title_sns_connect: "เชื่อมต่อบัญชีโซเชียล",
    title_withdraw: "ลบบัญชี",
    title_terms: "เงื่อนไขการให้บริการ",
    title_privacy: "นโยบายความเป็นส่วนตัว",
    title_marketing: "ความยินยอมทางการตลาด",
    title_support: "ศูนย์ช่วยเหลือ",
    security_title: "การตั้งค่าความปลอดภัย",
    session_management: "การจัดการเซสชัน",
    theme_light: "สว่าง",
    theme_dark: "มืด",
    theme_system: "ระบบ",
    pw_change_guide: "เราแนะนำให้ใช้อย่างน้อย 8 ตัวอักษรที่มีการผสมผสานระหว่างตัวอักษร ตัวเลข และสัญลักษณ์",
    current_pw: "รหัสผ่านปัจจุบัน",
    current_pw_placeholder: "ป้อนรหัสผ่านปัจจุบัน",
    new_pw: "รหัสผ่านใหม่",
    new_pw_placeholder: "ป้อนรหัสผ่านใหม่",
    confirm_new_pw: "ยืนยันรหัสผ่านใหม่",
    confirm_new_pw_placeholder: "ป้อนรหัสผ่านใหม่เนอีกครั้ง",
    pw_mismatch: "รหัสผ่านใหม่ไม่ตรงกัน",
    pw_check_req: "โปรดตรวจสอบรหัสผ่านของคุณ (อย่างน้อย 8 ตัวอักษรและตรงกัน)",
    hide: "ซ่อน",
    show: "แสดง",
    sns_connect_desc: "เชื่อมต่อบัญชีของคุณกับการเข้าสู่ระบบโซเชียลเพื่อการเข้าถึงและการกู้คืนที่ง่ายขึ้น",
    connect_google: "เชื่อมต่อบัญชี Google",
    connect_kakao: "เชื่อมต่อบัญชี Kakao",
    sns_connect_note: "คุณสามารถยกเลิกการเชื่อมต่อบัญชีที่เชื่อมโยงในการตั้งค่า > ความเป็นส่วนตัวได้ตลอดเวลา (เร็วๆ นี้)"
  },
  vi: {
    themeSelect: "Chọn chủ đề",
    title_language: "Thay đổi ngôn ngữ",
    title_theme: "Thay đổi chủ đề",
    title_password_change: "Đổi mật khẩu",
    title_sns_connect: "Kết nối tài khoản SNS",
    title_withdraw: "Xóa tài khoản",
    title_terms: "Điều khoản dịch vụ",
    title_privacy: "Chính sách quyền riêng tư",
    title_marketing: "Đồng ý tiếp thị",
    title_support: "Trung tâm trợ giúp",
    security_title: "Cài đặt bảo mật",
    session_management: "Quản lý phiên",
    theme_light: "Sáng",
    theme_dark: "Tối",
    theme_system: "Hệ thống",
    pw_change_guide: "Chúng tôi khuyên bạn nên sử dụng ít nhất 8 ký tự bao gồm chữ cái, số và ký hiệu.",
    current_pw: "Mật khẩu hiện tại",
    current_pw_placeholder: "Nhập mật khẩu hiện tại",
    new_pw: "Mật khẩu mới",
    new_pw_placeholder: "Nhập mật khẩu mới",
    confirm_new_pw: "Xác nhận mật khẩu mới",
    confirm_new_pw_placeholder: "Nhập lại mật khẩu mới",
    pw_mismatch: "Mật khẩu mới không khớp.",
    pw_check_req: "Vui lòng kiểm tra mật khẩu của bạn (tối thiểu 8 ký tự và khớp nhau).",
    hide: "Ẩn",
    show: "Hiện",
    sns_connect_desc: "Kết nối tài khoản của bạn với đăng nhập xã hội để truy cập và khôi phục dễ dàng hơn.",
    connect_google: "Kết nối tài khoản Google",
    connect_kakao: "Kết nối tài khoản Kakao",
    sns_connect_note: "Bạn có thể ngắt kết nối các tài khoản liên kết trong Cài đặt > Quyền riêng tư bất cứ lúc nào. (Sắp ra mắt)"
  },
  zh: {
    themeSelect: "选择主题",
    title_language: "更改语言",
    title_theme: "更改主题",
    title_password_change: "修改密码",
    title_sns_connect: "关联SNS账号",
    title_withdraw: "注销账号",
    title_terms: "服务条款",
    title_privacy: "隐私政策",
    title_marketing: "营销同意",
    title_support: "帮助中心",
    security_title: "安全设置",
    session_management: "会话管理",
    theme_light: "浅色",
    theme_dark: "深色",
    theme_system: "跟随系统",
    pw_change_guide: "我们建议使用至少8个字符，包含字母、数字和符号的组合。",
    current_pw: "当前密码",
    current_pw_placeholder: "请输入当前密码",
    new_pw: "新密码",
    new_pw_placeholder: "请输入新密码",
    confirm_new_pw: "确认新密码",
    confirm_new_pw_placeholder: "请再次输入新密码",
    pw_mismatch: "新密码不匹配。",
    pw_check_req: "请检查您的密码（至少8个字符且匹配）。",
    hide: "隐藏",
    show: "显示",
    sns_connect_desc: "关联社交账号以方便登录和找回。",
    connect_google: "关联Google账号",
    connect_kakao: "关联Kakao账号",
    sns_connect_note: "您可以随时在设置 > 隐私中取消关联账号。（即将推出）"
  }
};

targets.forEach(lang => {
  const filePath = path.join(localesDir, `${lang}.json`);
  if (!fs.existsSync(filePath)) {
    console.warn(`File not found: ${filePath}`);
    return;
  }

  try {
    const content = fs.readFileSync(filePath, 'utf8');
    const json = JSON.parse(content);

    // Initial check for settings object
    if (!json.settings) {
      json.settings = {};
    }

    const t = translations[lang];
    if (t) {
      // Merge translations
      Object.keys(t).forEach(key => {
        // We overwrite existing keys because the user said they are "English only output"
        // even if they exist (like in zh.json case).
        // Or if they are missing.
        json.settings[key] = t[key];
      });
    }

    fs.writeFileSync(filePath, JSON.stringify(json, null, 2), 'utf8');
    console.log(`Updated ${lang}.json`);
  } catch (err) {
    console.error(`Error updating ${lang}.json:`, err);
  }
});
